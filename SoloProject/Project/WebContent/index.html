<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<title>Insert title here</title>
</head>
<body>
	<h2 id="01">하위</h2>
	<textarea id="chatLog" class="chat_log" readonly style="width:500px; height:100px"></textarea>
    </div>
   	<img src="" id="img"></img>
   		
   		
   		
   	<!----script 부분---->
	<script>
		$(document).ready(function(){
			var myElement = $("#01");
			myElement.text("Hello jQuery!");
		});
		
		function parseWeather(){
			loadJSON(function(response){
				var jsonData = JSON.parse(response);
				for(i = 0; i<7 ;i++){
					$("#chatLog").append("도시 : " + jsonData.city.name + "\n"
							+ "기온 : " + (jsonData["list"][i]["main"]["temp"] - 273.15) + "\n"
							+ "시간 : " + jsonData["list"][i]["dt_txt"] + "\n"
							+ "날씨 : " + jsonData["list"][i]["weather"][0]["main"] + "\n\n\n");
				}
				
			});
		}
		function loadJSON(callback){
			var apiURL ="http://api.openweathermap.org/data/2.5/forecast?q=Daegu,KR&cnt=7&appid=dc8d5f394054b66bd905f0d24fc95a3d " 
			var request = new XMLHttpRequest();
			request.overrideMimeType("application/json");
			request.open('GET',apiURL, true);
			
			request.onreadystatechange = function(){
				if(request.readyState == 4 && request.status =="200"){
					callback(request.responseText);
				}
			};
			request.send(null);
		}
		window.onload = function(){
			parseWeather();
		}
			
	</script>
<div>
      
</body>
</html>
